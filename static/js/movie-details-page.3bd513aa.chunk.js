(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{34:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return j})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return b})),n.d(e,"d",(function(){return d}));var c=n(36),r=n.n(c),a=n(37),i=n(38),s=n.n(i),u="9060d75a42548d00033b78fc23f6dea4",o=function(){var t=Object(a.a)(r.a.mark((function t(){var e,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(u));case 2:return e=t.sent,n=e.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(u,"&query=").concat(e,"&page=1"));case 2:return n=t.sent,c=n.data,t.abrupt("return",c.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(u));case 2:return n=t.sent,c=n.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(u));case 2:return n=t.sent,c=n.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(u,"&page=1"));case 2:return n=t.sent,c=n.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},70:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var c=n(35),r=n(1),a=n(8),i=n(0),s=n(34),u=n(9),o=n.n(u),j=n(2);function h(){var t=Object(r.i)().movieId,e=Object(i.useState)(null),n=Object(c.a)(e,2),a=n[0],u=n[1];return Object(i.useEffect)((function(){Object(s.a)(t).then((function(t){return u(t.cast)}))}),[t]),Object(j.jsx)(j.Fragment,{children:a&&a.map((function(t){return Object(j.jsxs)("li",{className:o.a.cast,children:[t.profile_path&&Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(t.profile_path),alt:t.name}),Object(j.jsx)("p",{children:t.name}),Object(j.jsx)("p",{children:t.character})]},t.id)}))})}function b(){var t=Object(r.i)().movieId,e=Object(i.useState)(null),n=Object(c.a)(e,2),a=n[0],u=n[1];return Object(i.useEffect)((function(){Object(s.d)(t).then((function(t){return u(t.results)}))}),[t]),a&&a.length>0?Object(j.jsx)("ul",{children:a.map((function(t){return Object(j.jsxs)("li",{children:[Object(j.jsx)("h3",{children:t.author}),Object(j.jsx)("p",{children:t.content})]},t.id)}))}):Object(j.jsx)("p",{children:"We don't have any reviews for this movie"})}function d(){var t=Object(r.g)(),e=Object(r.h)(),n=Object(r.i)().movieId,u=Object(r.j)(),d=u.url,p=u.path,l=Object(i.useState)(null),f=Object(c.a)(l,2),v=f[0],O=f[1];Object(i.useEffect)((function(){Object(s.b)(n).then(O)}),[n]);return Object(j.jsxs)("div",{className:o.a.movieDetailsPage,children:[Object(j.jsx)("button",{className:o.a.button,onClick:function(){var n,c;t.push(null!==(n=null===e||void 0===e||null===(c=e.state)||void 0===c?void 0:c.from)&&void 0!==n?n:"/")},children:"Go Back"}),v&&Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(v.poster_path),alt:v.title}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:v.title}),Object(j.jsxs)("p",{children:["User Score: ",10*v.vote_average,"%"]}),Object(j.jsx)("h2",{children:"Overview"}),Object(j.jsx)("p",{children:v.overview}),Object(j.jsx)("h2",{children:"Genres"}),Object(j.jsx)("p",{children:v.genres.map((function(t){return"".concat(t.name," ")}))})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Additional information"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(a.c,{to:"".concat(d,"/cast"),children:"Cast"})}),Object(j.jsx)("li",{children:Object(j.jsx)(a.c,{to:"".concat(d,"/reviews"),children:"Reviews"})})]}),Object(j.jsx)("hr",{}),Object(j.jsx)(r.b,{path:"".concat(p,"/cast"),children:Object(j.jsx)(h,{})}),Object(j.jsx)(r.b,{path:"".concat(p,"/reviews"),children:Object(j.jsx)(b,{})})]})]})}}}]);
//# sourceMappingURL=movie-details-page.3bd513aa.chunk.js.map